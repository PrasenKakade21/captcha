<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CAPTCHA API Documentation</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: #f4f4f4;
            color: #222;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 960px;
            margin: auto;
            background: #ffffff;
            padding: 30px;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        h1 {
            font-size: 26px;
            margin-bottom: 10px;
        }

        h2 {
            font-size: 20px;
            margin-top: 30px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }

        h3 {
            font-size: 16px;
            margin-top: 20px;
        }

        p {
            margin: 10px 0;
        }

        code {
            background: #f1f1f1;
            padding: 3px 6px;
            border-radius: 3px;
            font-size: 0.95em;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 14px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f0f0f0;
        }

        .endpoint {
            background: #f8f9fa;
            border-left: 4px solid #3b5bdb;
            padding: 10px;
            margin: 15px 0;
        }

        .examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .example-card {
            border: 1px solid #ddd;
            padding: 15px;
            text-align: center;
            background: #fafafa;
        }

        .example-card img {
            margin-top: 10px;
            max-width: 100%;
            border: 1px solid #ccc;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            font-size: 14px;
            color: #666;
        }
    </style>
</head>
<body>

<div class="container">

    <h1>CAPTCHA API Documentation</h1>

    <p>
        This API provides endpoints for generating CAPTCHA images with configurable
        parameters and verifying user input against stored CAPTCHA values.
    </p>

    <h2>Base URL</h2>
    <p><code>http://localhost:5000</code></p>

    <h2>Generate CAPTCHA</h2>

    <div class="endpoint">
        <strong>Endpoint:</strong> <code>/captcha</code><br>
        <strong>Method:</strong> GET, POST
    </div>

    <p>
        Generates a CAPTCHA image. If no input data is provided, default
        CAPTCHA settings are applied. If JSON data is present, the CAPTCHA
        is generated using the supplied configuration.
    </p>

    <h3>Example JSON Input</h3>
    <pre>{
  "length": 6,
  "size": [200, 70],
  "color": "black",
  "lines": 50,
  "dots": 300,
  "distort": "wave"
}</pre>

    <h3>Supported Parameters</h3>
    <table>
        <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>length</td>
            <td>integer</td>
            <td>Number of characters in the CAPTCHA</td>
        </tr>
        <tr>
            <td>size</td>
            <td>array</td>
            <td>Image size as [width, height]</td>
        </tr>
        <tr>
            <td>color</td>
            <td>string or array</td>
            <td>Text color or multicolor option</td>
        </tr>
        <tr>
            <td>lines</td>
            <td>integer</td>
            <td>Number of noise lines</td>
        </tr>
        <tr>
            <td>dots</td>
            <td>integer</td>
            <td>Number of noise dots</td>
        </tr>
        <tr>
            <td>distort</td>
            <td>string</td>
            <td>none, wave, shear, blur</td>
        </tr>
    </table>

    <h2>CAPTCHA Examples</h2>

    <p>
        The following examples illustrate CAPTCHA images generated using
        different distortion modes.
    </p>

    <div class="examples">
        <div class="example-card">
            <h3>No Distortion</h3>
            <code>distort = "none"</code>
            <img src="/captcha" alt="CAPTCHA without distortion">
        </div>

        <div class="example-card">
            <h3>Wave Distortion</h3>
            <code>distort = "wave"</code>
            <img src="/captcha?distort=wave" alt="Wave distorted CAPTCHA">
        </div>

        <div class="example-card">
            <h3>Shear Distortion</h3>
            <code>distort = "shear"</code>
            <img src="/captcha?distort=shear" alt="Shear distorted CAPTCHA">
        </div>

        <div class="example-card">
            <h3>Blur Effect</h3>
            <code>distort = "blur"</code>
            <img src="/captcha?distort=blur" alt="Blurred CAPTCHA">
        </div>
    </div>

    <h2>Verify CAPTCHA</h2>

    <div class="endpoint">
        <strong>Endpoint:</strong> <code>/verify</code><br>
        <strong>Method:</strong> GET
    </div>

    <h3>Example Request</h3>
    <pre>/verify?uid=abc123&guess=K7P9Q</pre>

    <h3>Possible Responses</h3>
    <ul>
        <li><code>True &lt;captcha&gt;</code> – CAPTCHA matched successfully</li>
        <li><code>False &lt;captcha&gt;</code> – CAPTCHA mismatch</li>
        <li><code>Expired or invalid CAPTCHA</code></li>
    </ul>

    <footer>
        CAPTCHA API Documentation
    </footer>

</div>

</body>
</html>
